(this.webpackJsonprobodex=this.webpackJsonprobodex||[]).push([[0],[,,,function(e,t,a){},,function(e,t,a){e.exports=a(12)},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(4),l=a.n(r),c=(a(10),a(1));a(11),a(3);var s=function(e){return o.a.createElement("div",{className:"tc bg-light-yellow dib br3 pa3 ma2 grow"},o.a.createElement("img",{alt:"pic",src:"https://robohash.org/".concat(e.id)}),o.a.createElement("h2",null,e.name),o.a.createElement("h4",null,e.email),o.a.createElement("h6",null,e.id))};var i=function(e){var t=e.robots,a=e.thing;return console.log("robots returned",t.length),o.a.createElement("div",null,0!==t.length?t.map((function(e,a){return o.a.createElement(s,{key:a,id:t[a].id,name:t[a].name,email:t[a].email})})):o.a.createElement("h3",null,"No robots with ",a,"!"))};var m=function(e){var t=e.onsearchchange;return o.a.createElement("div",{className:"tc pa2"},o.a.createElement("input",{className:"pa2 ba b--gold bg-light-yellow",type:"search",placeholder:"search robots:",onChange:t}))};var h=function(e){var t=e.rerender,a=Object(n.useState)(""),r=Object(c.a)(a,2),l=r[0],s=r[1],i=Object(n.useState)(""),m=Object(c.a)(i,2),h=m[0],d=m[1];return o.a.createElement("article",{className:"br3 ba b--yellow mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},o.a.createElement("main",{className:"pa4 yellow"},o.a.createElement("div",{className:"measure"},o.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},o.a.createElement("legend",{className:"f1 fw6 ph0 gold mh0"},"Add Robot"),o.a.createElement("div",{className:"mt3"},o.a.createElement("label",{className:"db fw6 lh-copy gold f6",htmlFor:"name"},"Name"),o.a.createElement("input",{className:"pa2 input-reset ba b--yellow bg-transparent hover-bg-transparent hover-yellow w-100",type:"text",onChange:function(e){s(e.target.value)}})),o.a.createElement("div",{className:"mt3"},o.a.createElement("label",{className:"db fw6 lh-copy gold f6",htmlFor:"email-address"},"Email"),o.a.createElement("input",{className:"pa2 input-reset b--yellow ba bg-transparent hover-bg-transparent hover-yellow w-100",type:"email",onChange:function(e){d(e.target.value)}}))),o.a.createElement("div",null,o.a.createElement("input",{onClick:function(){l.length<=50?(console.log(l,h),fetch("https://damp-depths-06693.herokuapp.com/add",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,email:h})}).then((function(e){return e.json()})).then((function(e){"added robot"===e?(console.log("user added"),t()):(console.log("robot not added"),alert(e))}))):alert("name too big!")},className:"b ph3 pv2 input-reset ba b--yellow gold bg-transparent grow pointer f6 dib",type:"submit",value:"Add"})))))};var d=function(e){var t=e.rerender,a=Object(n.useState)(""),r=Object(c.a)(a,2),l=r[0],s=r[1];return o.a.createElement("article",{className:"br3 ba b--yellow mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},o.a.createElement("main",{className:"pa4 yellow"},o.a.createElement("div",{className:"measure"},o.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},o.a.createElement("legend",{className:"f1 fw6 ph0 gold mh0"},"Delete Robot"),o.a.createElement("div",{className:"mt3"},o.a.createElement("label",{className:"db fw6 lh-copy gold f6",htmlFor:"name"},"no. of the robot you want to delete"),o.a.createElement("input",{className:"pa2 input-reset ba b--yellow bg-transparent hover-bg-transparent hover-yellow w-100",type:"text",onChange:function(e){s(e.target.value)}}))),o.a.createElement("div",null,o.a.createElement("input",{onClick:function(){console.log(l),l.length>0?fetch("https://damp-depths-06693.herokuapp.com/delete",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:l})}).then((function(e){return e.json()})).then((function(e){e?(console.log("user deleted"),t()):alert("could not delete robot")})):alert("enter the ID of the robot you wish to delete")},className:"b ph3 pv2 input-reset ba b--yellow gold bg-transparent grow pointer f6 dib",type:"submit",value:"Delete"})))))};var u=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),s=Object(c.a)(l,2),u=s[0],p=s[1],b=Object(n.useState)(0),f=Object(c.a)(b,2),g=f[0],E=f[1];function w(){console.log("rerendered"),fetch("https://damp-depths-06693.herokuapp.com/robots",{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return r(e)})),fetch("https://damp-depths-06693.herokuapp.com/count",{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return E(e)}))}Object(n.useEffect)((function(){fetch("https://damp-depths-06693.herokuapp.com/robots",{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return r(e)})),fetch("https://damp-depths-06693.herokuapp.com/count",{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return E(e)})),console.log("useEffect")}),[]);try{var v=a.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())}))}catch(y){v=[{id:0,name:"nobody",email:"don't worry, I'm still your friend"}]}return o.a.createElement("div",null,o.a.createElement("h1",{id:"main"},"Robo-Friends"),o.a.createElement("h3",null,"you have ",g," robo-friends!"),o.a.createElement(m,{onsearchchange:function(e){console.log(e.target.value),p(e.target.value)}}),o.a.createElement("a",{href:"#edit"},o.a.createElement("h4",null,"Click here to add/delete robots")),o.a.createElement(i,{robots:v,thing:u}),o.a.createElement("div",{className:"choices",id:"edit"},o.a.createElement(h,{rerender:w}),o.a.createElement(d,{rerender:w})),o.a.createElement("a",{href:"#main"},o.a.createElement("h4",null,"Go back to the top")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(u,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.67e4cd08.chunk.js.map